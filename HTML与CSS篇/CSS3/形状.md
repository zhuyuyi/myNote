---
title: 形状
date: 2019-09-11 13:64:00
tags: css
categories: css类
---


## 形状

### 自适应椭圆

##### 难题

你可能注意到过，给任何正方形元素设置一个足够大的 `border-radius` ，就可以把它变成一个圆形。所用到的 `CSS` 代码如下所示：

```css
div{
    background: #fb3;
    width: 200px;
    height: 200px;
    border-radius: 100px; /* >= 正方形边长的一半 */
}
```
你可能还注意到了，如果指定任何大于 `100px` 的半径，仍然可以得到一个圆形。
规范特别指出了这其中的原因“：当任意两个相邻圆角的半径之和超过 `border box` 的尺寸时，用户代理必须按比例减小各个边框半径所使用的值，直到它们不会相互重叠为止。”

不过，我们往往不愿意对一个元素指定固定的宽度和高度，因为我们希望它能根据其内容自动调整并适应，而内容的长短不可能在事先就知道。即使是在设计一个静态网站的时候（元素的内容可以预先确定），我们也可能
需要在某个时刻改变其内容；或者我们为它准备了一款尺寸略有差异的回退字体，而不同字体对相同内容的渲染结果很可能是不同的。在这个案例中，我们通常期望达到这个效果：如果它的宽高相等，就显示为一个圆；如果宽
高不等，就显示为一个椭圆。可是，我们前面的代码并不能满足这个期望。

当宽度大于高度时，我们得到的形状:<img src="https://s2.ax1x.com/2019/09/11/ndwnb9.png" alt="ndwnb9.png" border="0" />

##### 解决

`border-radius` 有一个鲜为人知的真相：它可以单独指定水平和垂直半径，只要用一个斜杠（ / ）分隔这两个值即可。这个特性允许我们在拐角处创建椭圆圆角。因此，如果我们有一个尺寸为 `200px * 150px` 的元素，就可以把它圆角的两个半径值分别指定为元素宽高的一半，从而得到一个精确的椭圆：

```css
div{
    border-radius: 100px / 75px;
}
```
<img src="https://s2.ax1x.com/2019/09/11/nd0gSK.png" alt="nd0gSK.png" border="0" />

当然这段写死的代码还是有一定问题的，无法做到根据内容的长短做出相应的响应式操作。

当然我们知道，`border-radius` 不仅可以接受长度值，还可以接受百分比值。这个百分比值会基于元素的尺寸进行解析，即宽度用于水平半径的解析，而高度用于垂直半径的解析。这意味着相同的百分比可能会计算出不同的水平和垂直半径。因此，如果要创建一个自适应的椭圆，我们可以把这两个半径值都设置为 `50%`。 最终就会达到我们想要的效果。

##### 半椭圆

现在我们已经知道如何用 CSS 来生成一个自适应的椭圆了，接下来很自然地就会问到：我们是否还能生成其他常见的形状呢，比如椭圆的一部分？让我们先来思考一下半椭圆。
幸运的是， `border-radius` 的语法比我们想像中灵活得多。你可能会惊讶地发现 `border-radius` 原来是一个简写属性。我们可以为元素的每个角指定不同的值，而且还有两种方法可以做到这一点。第一种方法就是使用它
所对应的各个展开式属性：
```css
border-top-left-radius
border-top-right-radius
border-bottom-right-radius
border-bottom-left-radius
```
当然，我们也可以一次性向 `border-radius` 传 四个不同的值以空格隔开。

在W3C上查border-radius属性时，会发现上面描述的语法是这样的：

`border-radius: 1-4 length|% / 1-4 length|%;`
这是什么意思呢，我也看不懂，后来百度了解到，这是`border-radius`的完整写法，我们平时的写法其实都是简写，平时我们写的`border-radius : 50px`，其实完整的写法应该是：
`border-radius : 50px 50px 50px 50px / 50px 50px 50px 50px`
“/”前的四个数值表示圆角的水平半径，后面四个值表示圆角的垂直半径，什么是水平半径和垂直半径呢，见下图
<img src="https://s2.ax1x.com/2019/09/11/nd5efS.png" alt="nd5efS.png" border="0" />

子弹头 椭圆
```css
div{
    border-radius: 100% 0 0 100% / 50%;
}
```
<img src="https://s2.ax1x.com/2019/09/11/nd5sk6.png" alt="nd5sk6.png" border="0" />

四分之一椭圆
```css
div{
    border-radius: 100% 0 0 0;
}
```
<img src="https://s2.ax1x.com/2019/09/11/nd5DTx.png" alt="nd5DTx.png" border="0" />

Simurai 以 其 精 湛 的 手 法 将 border-radius 发 挥 到 了 极 致，其 糖 果 按 钮 http://simurai.com/archive/buttons 展示了各种奇妙的形状

### 平行四边形

平行四边形其实是矩形的超集：它的各条边是两两平行的，但各个角则不一定都是直角。在视觉设计中，平行四边形往往可以传达出一种动感。
我们使用 `skew()` 属性来对 图形进行变换。 
```css
div{
    transform: skewX(-45deg);
}
```
<img src="https://s2.ax1x.com/2019/09/12/nB8jpD.png" alt="nB8jpD.png" border="0" />






