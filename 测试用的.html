<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>call与apply</title>
    <link rel="stylesheet" href="">
</head>
<style>
    div {
        box-sizing: content-box;
        margin: 10px;
        width: 100px;
        height: 100px;
        padding: 10px;
    }
</style>

<body>

    <div></div>
    <script>
        // let cat = {
        // 	name:'cat',
        // 	jump(){
        // 		console.log(this.name + ' can jump')
        // 	}
        // }
        // let dog = {
        // 	name:'dog',
        // 	bark(){
        // 		console.log(this.name + ' can bark')
        // 	},
        // 	count(a,b){
        // 		console.log(`${a} + ${b} = ${a + b}`)
        // 	}
        // }
        // cat.jump.apply(dog);
        // dog.count.apply(cat,[1,2]);
        // dog.count.call(cat,1,3);


        // var book = {
        // 	_year:2004,
        // 	edition:1
        // };
        // Object.defineProperty(book,'year',{
        // 	configurable:true,
        // 	enumerable:true,
        // 	get:function(){
        // 		return this._year
        // 	},
        // 	set:function(newValue){
        // 		console.log(this)
        // 		this._year = newValue;
        // 	}
        // });
        // book.year = 2005;

        // var book1 = {
        // 	name:'ztyy',
        // 	getName:function(){
        // 		setTimeout(function(){
        // 			console.log(this)
        // 		},0)
        // 	}
        // }
        // book1.getName();
        // var a = [1,2,3];
        // a.forEach(function(){
        // 	console.log(this);
        // })
        // console.log(a);
        // let a;



        // function Foo() {
        //     getName = function() {
        //         alert(1)
        //     }
        //     return this
        // }
        // Foo.getName = function() {
        //     alert(2)
        // }

        // Foo.prototype.getName = function() {
        //     alert(3)
        // }

        // var getName = function() {
        //     alert(4)
        // }

        // function getName() {
        //     alert(5)
        // }

        // Foo.getName(); // 2
        // getName(); // 4
        // Foo().getName(); // 1
        // getName(); // 1
        // new Foo.getName(); // 2
        // new Foo().getName(); // 3
        // new new Foo().getName(); // 3


        // demo01

        // var fn;

        // function foo() {
        //     var a = 2;

        //     function baz() {
        //         console.log(a);
        //     }
        //     fn = baz;
        // }

        // function bar() {
        //     fn();
        // }

        // foo();
        // bar(); // 2

        // 'use strict'
        // setTimeout(function() {
        //     console.log(this)
        // }, 1000);
        // function a() {
        //     console.log(this)
        // }
        // a();


        // function f1() {
        //     var n = 999;

        //     function f2() {
        //         alert(n);
        //     }
        //     return f2;
        // }
        // var result = f1();
        // result(); // 999


        // var count = 10; //全局作用域 标记为flag1
        // function add() {
        //     var count = 0; //函数全局作用域 标记为flag2
        //     return function() {
        //         count += 1; //函数的内部作用域
        //         alert(count);
        //     }
        // }


        // var superProgrammer = 'bge';

        // function BossBge() {
        //     var programmer = 'zyy';
        //     // setTimeout(function() {
        //     //     console.log('我在bossbge内部')
        //     // }, 0)
        //     console.log(1);

        //     function ypgAndZtg() {
        //         var goodProgrammer = programmer;
        //         console.log(2);
        //         // setTimeout(function() {
        //         //     console.log('我在ypgAndZtg内部')
        //         // }, 0)
        //     }
        //     ypgAndZtg();
        // }
        // // setTimeout(function() {
        // //     console.log('我在全局环境下')
        // // }, 0);
        // console.log(0);
        // debugger;
        // BossBge();
        // console.log('我是同步的');


        // var count = 10; //全局作用域 标记为flag1
        // function add() {
        //     var count = 0; //函数全局作用域 标记为flag2
        //     var c = 1;
        //     var d = 3;
        //     return function() {
        //         count += 1; //函数的内部作用域

        //         console.log(count);
        //         // console.log(c);

        //     }
        // }
        // var s = add()
        // s(); //输出1
        // s(); //输出2

        // console.dir(s);


        // function foo() {
        //     var a = 2;
        //     return function bar() {
        //         var b = 9;
        //         return function fn() {
        //             console.dir(fn);
        //             console.log(b);
        //         }
        //     }
        // }

        // var bar = foo();
        // var fn = bar();
        // fn();


        // function foo() {
        //     var a = 2;
        //     return function bar() {
        //         var b = 9;
        //         return function fn() {
        //             console.log(a);
        //         }
        //     }
        // }
        // debugger;
        // var bar = foo();
        // var fn = bar();
        // fn();

            // function promise1(msg){
            //     let p1 = new Promise((resolve,inject)=>{
            //         setTimeout(function(){
            //             console.log(msg);
            //             resolve('2222')
            //         },1000);
            //     });
            //     return p1;
            // };

            // function promise2(){
            //     // debugger
            //     let p2 = new Promise((resolve,reject)=>{
            //         setTimeout(function(){
            //             console.log('这是第二个回调函数');
            //             resolve('111')
            //         },2000)
            //     });
            //     return p2
            // }
            
            // promise2().then((msg)=>{
            //     return promise1(msg)
            // }).then((msg1)=>{
            //     console.log(msg1,'22')
            // })

            // function* helloWorldGenerator() {
            //   yield 'hello';
            //   yield 'world';
            //   return 'ending';
            // }
            // var hw = helloWorldGenerator();
            // console.log(hw.next())

            // async function timeout(){
            //     return 'nihao'
            // }
            // timeout().then((msg)=>{
            //     console.log(msg)
            // })
            // console.log('xian')


            // function double(num){
            //     return new Promise((resolve,reject)=>{
            //         setTimeout(function(){
            //             resolve(num * 2)
            //         },2000)
            //     })
            // }

            // async function fuc(){
            //     let num = await double(60)
            //     return num;
            // }

            // fuc().then((res)=>{
            //     console.log(res)
            // })


            function promise1(){
                return new Promise((resolve,reject)=>{
                    setTimeout(function(){
                        console.log('1')
                        resolve('promise1')
                    },2000)
                })
            }

            function promise2(){
                return new Promise((resolve,reject)=>{
                    setTimeout(function(){
                        console.log('2')
                        resolve('promise2')
                    },1000)
                })
            }

            async function async1(){
                await promise1();
                await promise2();
            }

            async1()

    </script>
</body>

</html>